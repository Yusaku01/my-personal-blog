---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/HeroSection.astro';
import ProfileSection from '../components/ProfileSection.astro';
import { ProfileContent } from '../data/profileData.ts';
---

<Layout title="PROFILE">
  <HeroSection title="PROFILE" isHome={false} />

  <div class="max-w-4xl mx-auto px-4 py-8">
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden">
      <!-- カバー画像セクション -->
      <div class="h-48 md:h-64 relative">
        <img
          src={ProfileContent.coverImage}
          alt="カバー画像"
          class="w-full h-full object-cover"
          width="1000"
          height="250"
        />
      </div>

      <div class="px-6 py-8">
        <!-- プロフィールヘッダー -->
        <div class="flex flex-col md:flex-row items-center md:items-start gap-6 mb-8">
          <!-- プロフィール画像 -->
          <div
            class="w-28 h-28 rounded-full overflow-hidden -mt-16 border-4 border-white dark:border-gray-800 shadow-md relative z-10 bg-white dark:bg-gray-700"
          >
            <img
              src={ProfileContent.avatar}
              alt={ProfileContent.name}
              class="w-full h-full object-cover"
              width="112"
              height="112"
            />
          </div>
          <!-- 名前と肩書き -->
          <div class="text-center md:text-left">
            <h1 class="text-3xl font-bold text-gray-900 dark:text-white">{ProfileContent.name}</h1>
            <p class="text-xl text-gray-600 dark:text-gray-300 mt-1">{ProfileContent.role}</p>
          </div>
        </div>

        <!-- 自己紹介セクション -->
        <ProfileSection title="自己紹介" className="mb-10">
          <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
            {ProfileContent.bio}
          </p>
        </ProfileSection>

        <!-- スキルセクション -->
        <ProfileSection title="スキル" className="mb-10">
          <!-- 業務スキル -->
          <div class="mb-8">
            <div class="flex items-center gap-3 mb-4">
              <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">業務経験</h3>
              <div class="h-px flex-grow bg-gray-200 dark:bg-gray-700"></div>
            </div>

            <div class="grid grid-cols-1 gap-4">
              {
                ProfileContent.professionalSkills.map((skill) => (
                  <div class="bg-white dark:bg-gray-750 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 transition-all hover:shadow-md">
                    <div class="flex items-center justify-between mb-2">
                      <h4 class="text-lg font-medium text-gray-900 dark:text-white">
                        {skill.name}
                      </h4>
                      <span class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1 text-xs rounded-full">
                        {skill.years}年の経験
                      </span>
                    </div>

                    <div class="text-sm text-gray-600 dark:text-gray-300">{skill.details}</div>
                  </div>
                ))
              }
            </div>
          </div>

          <!-- 個人開発スキル -->
          <div>
            <div class="flex items-center gap-3 mb-4">
              <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">個人開発・学習</h3>
              <div class="h-px flex-grow bg-gray-200 dark:bg-gray-700"></div>
            </div>

            <div class="grid grid-cols-1 gap-4">
              {
                ProfileContent.personalSkills.map((skill) => (
                  <div class="bg-white dark:bg-gray-750 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 transition-all hover:shadow-md">
                    <div class="flex items-center justify-between mb-2">
                      <h4 class="text-lg font-medium text-gray-900 dark:text-white">
                        {skill.name}
                      </h4>
                      <span class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1 text-xs rounded-full">
                        {skill.years}年の経験
                      </span>
                    </div>

                    <div class="text-sm text-gray-600 dark:text-gray-300">{skill.details}</div>
                  </div>
                ))
              }
            </div>
          </div>
        </ProfileSection>

        <!-- SNSセクション -->
        <ProfileSection title="SNS" className="mb-0">
          <div class="flex flex-wrap justify-center gap-8">
            {
              ProfileContent.socialLinks.map((link) => (
                <a
                  href={link.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="transition-transform hover:scale-110"
                  title={link.name}
                  aria-label={`${link.name}プロフィールへ`}
                >
                  <img
                    src={link.iconLight}
                    alt={link.name}
                    class={`${link.class} block dark:hidden`}
                  />
                  <img
                    src={link.iconDark}
                    alt={link.name}
                    class={`${link.class} hidden dark:block`}
                  />
                </a>
              ))
            }
          </div>
        </ProfileSection>
      </div>
    </div>
  </div>
</Layout>
